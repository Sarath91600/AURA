<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard - User Management</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <!-- Main Container -->
  <div class="flex flex-col md:flex-row">
    <!-- Sidebar -->
    <nav class="w-full md:w-1/5 bg-gray-800 text-white min-h-screen">
      <div class="p-6">
        <h1 class="text-2xl font-bold">Admin Dashboard</h1>
      </div>
      <ul>
        <li class="p-4 hover:bg-gray-700">
          <a href="#" class="block font-bold" aria-label="Navigate to User Management">Users</a> <!-- Active link -->
        </li>
        <li class="p-4 hover:bg-gray-700">
          <a href="category.html" class="block" aria-label="Navigate to Category Management">Category</a>
        </li>
        <li class="p-4 hover:bg-gray-700">
          <a href="product.html" class="block" aria-label="Navigate to Product Management">Product</a>
        </li>
        <li class="p-4 hover:bg-gray-700">
          <a href="/admin/logout" class="block" aria-label="Logout">Log Out</a>
        </li>
      </ul>
    </nav>

    <!-- Main Content -->
    <main class="flex-1 p-6">
      <!-- User Management Section -->
      <section id="user-management">
        <h2 class="text-2xl font-bold mb-4">User Management</h2>
        <table class="w-full bg-white shadow-lg rounded-lg overflow-hidden">
          <caption class="text-lg font-semibold py-2">Manage all registered users</caption>
          <thead>
            <tr class="bg-gray-200 text-left">
              <th class="p-4">S/N</th>
              <th class="p-4">Full Name</th>
              <th class="p-4">Mobile Number</th>
              <th class="p-4">Email</th>
              <th class="p-4">Status</th>
              <th class="p-4">Actions</th>
            </tr>
          </thead>
          <tbody>
            {{#each users}}
            <tr class="border-t hover:bg-gray-100">
              <td class="p-4">{{@index}}</td>
              <td class="p-4">{{this.fullName}}</td>
              <td class="p-4">{{this.mobile}}</td>
              <td class="p-4">{{this.email}}</td>
              <td class="p-4">
                {{#if (eq this.status "Active")}}
                  <span class="text-green-500 font-medium">Active</span>
                {{else}}
                  <span class="text-red-500 font-medium">Blocked</span>
                {{/if}}
              </td>
              <td class="p-4 space-x-2">
                {{#if (eq this.status "Active")}}
                  <a href="/admin/blockUser/{{this._id}}" class="bg-red-500 text-white px-4 py-2 rounded">Block</a>
                {{else}}
                  <a href="/admin/unblockUser/{{this._id}}" class="bg-green-500 text-white px-4 py-2 rounded">Unblock</a>
                {{/if}}
              </td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </section>
    </main>
  </div>

</body>
</html>
